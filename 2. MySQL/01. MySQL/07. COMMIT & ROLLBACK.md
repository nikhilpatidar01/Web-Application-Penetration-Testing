
# 🔄 COMMIT & ROLLBACK (Transaction Control in SQL)

## 💡 What are they?

* `COMMIT`: **Save** all changes permanently.
* `ROLLBACK`: **Undo** uncommitted changes.
* Transactions = group of operations treated as one unit.

---

## ⚙️ AUTOCOMMIT Mode

| 🔧 Command             | 📌 Description                    |
| ---------------------- | --------------------------------- |
| `SELECT @@autocommit;` | Check if autocommit is ON         |
| `SET autocommit = 0;`  | Turn OFF autocommit (manual mode) |
| `SET autocommit = 1;`  | Turn ON autocommit (default mode) |

---

## ✅ Example with `COMMIT`

```sql
SET autocommit = 0;

UPDATE user2 SET enable = 1 WHERE id = 20;
UPDATE user2 SET name = 'USER1' WHERE id = 20;
INSERT INTO user2(id, name, age, email, password, course_name, enable)
VALUES(29, 'admin', 20, 'admin@armour.com', 'password123', 'Linux', 1);

COMMIT;
```

> All changes are saved together.

---

## ❌ Example with `ROLLBACK`

```sql
SET autocommit = 0;

DELETE FROM user2;
SELECT * FROM user2;  -- Shows empty

ROLLBACK;
SELECT * FROM user2;  -- Data is restored
```

> Rollback undoes all uncommitted changes.

---

## ⚠️ When AUTOCOMMIT is ON:

```sql
-- These are committed instantly. ROLLBACK won't work.
UPDATE user2 SET name = 'Test' WHERE id = 5;
DELETE FROM user2 WHERE id = 10;
ROLLBACK;   -- ❌ Won’t undo anything
```

---

## 🧠 Quick Summary:

| 🔄 Feature            | ✅ COMMIT                | ❌ ROLLBACK          |
| --------------------- | ----------------------- | ------------------- |
| Saves changes?        | ✅ Yes                   | ❌ No                |
| Can undo changes?     | ❌ No                    | ✅ Yes               |
| Needs autocommit off? | ✅ Yes                   | ✅ Yes               |
| Useful for?           | Finalizing transactions | Cancelling mistakes |

---

