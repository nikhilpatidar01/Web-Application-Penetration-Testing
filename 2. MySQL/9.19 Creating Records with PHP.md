# ðŸ“Œ **Creating Records with PHP**

1. `creating-records.php` â€“ Hardcoded insert.
2. `creating-records-2.php` â€“ HTML form.
3. `creating-records-process.php` â€“ Form data processor with DB insert.

---

### âœ… `creating-records.php`

```php
<?php
// âœ… Create connection
$connection = mysqli_connect("localhost", "root", "root", "nikhil_db");

// âœ… Check connection
if (mysqli_connect_errno()) {
    die("Database Connection Failed: " . mysqli_connect_error());
}
?>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Creating Records with PHP</title>
</head>
<body>

<h1>Creating Records with PHP</h1>

<?php
// âœ… Perform database insert
$query = "INSERT INTO student (name, age, gender, email, percentage)
          VALUES ('nitin', 21, 'M', 'ul@nikhil.com', 60)";

$result = mysqli_query($connection, $query);

if ($result) {
    echo "<p style='color:green;'>Record inserted successfully!</p>";
} else {
    echo "<p style='color:red;'>Database Query Failed: " . mysqli_error($connection) . "</p>";
}

// âœ… Close connection
mysqli_close($connection);
?>

</body>
</html>
```
---
#### Run on Browser

```
http://192.168.94.145/php/creating-records.php
```
#### Output

```
Creating Records with PHP
Record inserted successfully!
```
---

### âœ…  `creating-records-process.php`

```php
<?php
// 1. Create a database connection
$dbhost = 'localhost';
$dbuser = 'root';
$dbpass = 'root';
$dbname = 'nikhil_db';

$connection = mysqli_connect($dbhost, $dbuser, $dbpass, $dbname);

// Check connection
if (mysqli_connect_errno()) {
    die("Database Connection Failed: " . mysqli_connect_error());
}

// 2. Capture form inputs safely
$student_name = $_POST['student_name'] ?? "";
$student_age = $_POST['student_age'] ?? "";
$student_gender = $_POST['student_gender'] ?? "";
$student_email = $_POST['student_email'] ?? "";
$student_percentage = $_POST['student_percentage'] ?? "";

// 3. Basic validation (server-side)
if (
    empty($student_name) ||
    empty($student_age) ||
    empty($student_gender) ||
    empty($student_email) ||
    empty($student_percentage)
) {
    die("All fields are required.");
}

// 4. Use Prepared Statement to avoid SQL injection
$query = "INSERT INTO student (name, age, gender, email, percentage) VALUES (?, ?, ?, ?, ?)";
$stmt = mysqli_prepare($connection, $query);

// Bind parameters (s = string, i = integer)
mysqli_stmt_bind_param(
    $stmt,
    "sisss",
    $student_name,
    $student_age,
    $student_gender,
    $student_email,
    $student_percentage
);

// Execute and check result
if (mysqli_stmt_execute($stmt)) {
    echo "<h3>Record successfully inserted!</h3>";
    echo "<a href='creating-records-2.php'>Back to Form</a>";
} else {
    echo "Error: " . mysqli_stmt_error($stmt);
}

// 5. Close statement and connection
mysqli_stmt_close($stmt);
mysqli_close($connection);
?>
```

---

### âœ… `creating-records-2.php`

```php
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Creating Records with PHP 2</title>
</head>
<body>

<h1>Creating Records with PHP</h1>

<form action="creating-records-process.php" method="POST">
    <p>
        <label for="student_name">Name:</label>
        <input type="text" name="student_name" id="student_name" required />
    </p>

    <p>
        <label for="student_age">Age:</label>
        <input type="number" name="student_age" id="student_age" required />
    </p>

    <p>
        Gender:<br>
        <input type="radio" id="male" name="student_gender" value="M" required />
        <label for="male">Male</label>

        <input type="radio" id="female" name="student_gender" value="F" />
        <label for="female">Female</label>
    </p>

    <p>
        <label for="student_email">Email:</label>
        <input type="email" name="student_email" id="student_email" required />
    </p>

    <p>
        <label for="student_percentage">Percentage:</label>
        <input type="number" name="student_percentage" id="student_percentage" min="0" max="100" required />
    </p>

    <p>
        <input type="submit" name="submit" value="Save" />
    </p>
</form>

</body>
</html>
```

---

#### Run on Browser

```
http://192.168.94.145/php/creating-records-process.php
```
#### Output

```
Record successfully inserted!
Back to Form
```
---


