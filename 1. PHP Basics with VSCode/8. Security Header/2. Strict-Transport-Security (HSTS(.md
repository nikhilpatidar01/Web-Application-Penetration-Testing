
# **Strict-Transport-Security (HSTS)**

The `Strict-Transport-Security` header (HSTS) instructs browsers to only communicate over **HTTPS** for a specified duration. This helps prevent **downgrade attacks** and **man-in-the-middle (MITM) attacks**.

---

## ‚úÖ PHP Example: `strict-transport-security.php`

```php
<?php
// Set the HSTS header for a specific period of time (e.g., 1 year)
$maxAge = 31536000; // 1 year in seconds

// Apply HSTS to all subdomains
$includeSubdomains = true;

// Enable preload flag (optional ‚Äî requires submission to preload list)
$preload = false;

// Build the header value
$headerValue = 'max-age=' . $maxAge;

if ($includeSubdomains) {
    $headerValue .= '; includeSubDomains';
}
if ($preload) {
    $headerValue .= '; preload';
}

// Send the HSTS header
header('Strict-Transport-Security: ' . $headerValue);
?>
```

---

## üîç Header Breakdown

| **Directive**       | **Description**                                                         |
| ------------------- | ----------------------------------------------------------------------- |
| `max-age=31536000`  | Enforces HTTPS for 1 year (in seconds)                                  |
| `includeSubDomains` | Applies the rule to all subdomains                                      |
| `preload`           | Requests inclusion in [browser preload lists](https://hstspreload.org/) |

---

## ‚ö†Ô∏è Important Notes

* This header **only works over HTTPS**. Browsers ignore it if served over HTTP.
* Enabling `preload` requires:

  * A valid SSL certificate.
  * HTTPS redirect from HTTP.
  * Serving HSTS with `max-age ‚â• 31536000`, `includeSubDomains`, and `preload`.
* Submit your domain to the preload list only if you're **ready for long-term HTTPS commitment**.

---

## üß™ How to Test

### ‚úÖ Using Browser DevTools

1. Save the file as `strict-transport-security.php`
2. Open it in your browser via HTTPS (e.g., `https://localhost/strict-transport-security.php`)
3. Open **DevTools** ‚Üí Network tab ‚Üí Click the file ‚Üí Check **Response Headers**

---

### ‚úÖ Using cURL

```bash
curl -I https://yourdomain.com
```

You should see something like:

```
Strict-Transport-Security: max-age=31536000; includeSubDomains
```

---

