
# üåê Same-Origin vs Cross-Origin

Web browsers enforce the **Same-Origin Policy (SOP)** as a core security mechanism to isolate documents and scripts from different origins. This prevents unauthorized access across websites.

---

## üîç What Is an Origin?

An **origin** is defined by the following three components:

| Component | Example           |
| --------- | ----------------- |
| Scheme    | `http`, `https`   |
| Host      | `example.com`     |
| Port      | `80`, `443`, etc. |

‚û°Ô∏è Two pages have the **same origin only if all three parts match exactly**.

---

## ‚úÖ Same-Origin Examples

| URL 1                       | URL 2                       | Same Origin? | Reason                          |
| --------------------------- | --------------------------- | ------------ | ------------------------------- |
| `https://example.com/page1` | `https://example.com/page2` | ‚úÖ Yes        | Same scheme, host, and port     |
| `http://example.com:80`     | `http://example.com`        | ‚úÖ Yes        | Port 80 is the default for HTTP |

---

## ‚ùå Cross-Origin Examples

| URL 1                     | URL 2                      | Same Origin? | Reason                               |
| ------------------------- | -------------------------- | ------------ | ------------------------------------ |
| `http://example.com`      | `https://example.com`      | ‚ùå No         | Different schemes (`http` ‚â† `https`) |
| `https://example.com`     | `https://sub.example.com`  | ‚ùå No         | Different subdomain (host mismatch)  |
| `https://example.com:443` | `https://example.com:8443` | ‚ùå No         | Different ports (`443` ‚â† `8443`)     |

---

## üõ° Why It Matters

The **Same-Origin Policy** helps protect users from security threats by preventing:

* Unauthorized access to cookies, storage, and other data.
* DOM manipulation by scripts from a different origin.
* CSRF (Cross-Site Request Forgery) and XSS (Cross-Site Scripting) attacks.

---

## üîì Controlled Cross-Origin Access

Sometimes, **cross-origin access** is needed and allowed under certain conditions using mechanisms like:

| Mechanism           | Purpose                                                     |
| ------------------- | ----------------------------------------------------------- |
| **CORS**            | Cross-Origin Resource Sharing for APIs and web services     |
| **postMessage API** | Safe cross-origin communication between windows/frames      |
| **Proxy Servers**   | Relays requests through a same-origin context               |
| **JSONP**           | Legacy technique for cross-origin GET requests (deprecated) |

---

## üß™ How to Test

You can test SOP behavior by embedding pages from different origins in iframes or using `fetch()`:

```html
<!-- Same-Origin iframe (Allowed) -->
<iframe src="https://example.com/page.html"></iframe>

<!-- Cross-Origin iframe (Restricted by SOP) -->
<iframe src="https://anotherdomain.com/page.html"></iframe>
```

Use **browser developer tools** to inspect:

* Errors related to SOP violations
* Headers like `Access-Control-Allow-Origin` in the **Network tab**

---

