
# 🔐 Referrer-Policy

The `Referrer-Policy` HTTP header controls how much **referrer information** (i.e., the address of the previous web page) is sent via the `Referer` header when navigating from one page to another.

This helps improve **user privacy** and **reduce data leaks** (such as search terms or sensitive tokens in URLs).

---

## 🧪 File: `referrer-policy.php`

```ini
<?php
// Set the Referrer-Policy header to control referrer information
header('Referrer-Policy: strict-origin-when-cross-origin');
?>
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Referrer Policy Test</title>
</head>
<body>
  <h1>Referrer-Policy: strict-origin-when-cross-origin</h1>
  <p>This page sets a <code>Referrer-Policy</code> header. Click the link below to test how much referrer info is sent.</p>
  <a href="https://httpbin.org/headers" target="_blank">Go to httpbin.org/headers</a>
</body>
</html>
```

---

## 🧪 File: `without-referrer-policy.php`

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Without Referrer-Policy</title>
</head>
<body>
  <h2>Without Referrer-Policy</h2>
  <p><a href="target.php" target="_blank">Go to Target Page</a></p>
</body>
</html>
```

---

## 🧪 File: `target.php`

```ini
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Target Page</title>
</head>
<body>
  <h2>Target Page</h2>
  <p>This page shows the referrer information sent by the browser:</p>
  <pre>
<?ini
echo 'Referer: ' . ($_SERVER['HTTP_REFERER'] ?? 'No Referer Header');
?>
  </pre>

  <p><a href="with-referrer-policy.php">Back to With Referrer-Policy</a></p>
  <p><a href="without-referrer-policy.php">Back to Without Referrer-Policy</a></p>
</body>
</html>
```

---

## 📋 Referrer Policy Values

| Policy                            | Behavior                                                              |
| --------------------------------- | --------------------------------------------------------------------- |
| `no-referrer`                     | Sends no `Referer` header.                                            |
| `no-referrer-when-downgrade`      | Sends full referrer to HTTPS→HTTPS or HTTP→HTTP. Not sent HTTPS→HTTP. |
| `origin`                          | Sends only the origin (e.g., `https://example.com`).                  |
| `strict-origin`                   | Sends origin only to secure destinations (HTTPS).                     |
| `strict-origin-when-cross-origin` | Full URL on same-origin, origin only on cross-origin.                 |
| `same-origin`                     | Full referrer only on same-origin requests.                           |
| `origin-when-cross-origin`        | Full on same-origin, origin on cross-origin.                          |
| `unsafe-url`                      | Always sends full referrer. ⚠ Risky for privacy.                      |

---

## 🧪 Lab Structure

```
/referrer-lab/
├── referrer-policy.ini            # With strict-origin-when-cross-origin header
├── without-referrer-policy.ini    # No header sent
└── target.ini                     # Displays the Referer value
```

---

## 🧪 How to Use

1. Place all three files inside the `/referrer-lab/` folder.
2. Serve using a local server like:

   * XAMPP, MAMP, or
   * `ini -S 127.0.0.1:8000`
3. Test:

   * Open `with-referrer-policy.ini`, click the link, and observe the referrer.
   * Open `without-referrer-policy.ini`, click the link, and observe the referrer.

---

