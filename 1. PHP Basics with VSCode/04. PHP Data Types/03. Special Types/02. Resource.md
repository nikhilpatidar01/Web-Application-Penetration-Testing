
# Resource in PHP

## 📌 What is a Resource in PHP?

* A **Resource** is a **special variable**, holding a reference to an external resource.
* Commonly used when working with:

  * File handles
  * Database connections (e.g., MySQL)
  * Streams
  * cURL sessions
* Resources are **created by special functions** and **can’t be created manually**.

---

## 🧠 Key Features:

| Feature                    | Description                                                  |
| -------------------------- | ------------------------------------------------------------ |
| **Special Type**           | Holds reference to an external system (file, database, etc.) |
| **Not a data value**       | Unlike integers or strings, it’s a reference/handle          |
| **Auto garbage collected** | PHP automatically cleans up unused resources                 |

---

## 🔧 Example: File Resource in PHP

```php
<?php
// Opening a file creates a resource
$file = fopen("example.txt", "r");

if (is_resource($file)) {
    echo "Resource type: " . get_resource_type($file);  // Output: stream
} else {
    echo "Failed to open file.";
}

// Closing the file
fclose($file);
?>
```

---

## 🎯 Functions Related to Resources

| Function              | Description                                       |
| --------------------- | ------------------------------------------------- |
| `fopen()`             | Opens a file and returns a resource               |
| `fclose()`            | Closes a file resource                            |
| `is_resource()`       | Checks whether a variable is a resource           |
| `get_resource_type()` | Returns the type of the resource (e.g., `stream`) |

---

## 📊 Resource Example Table

| Variable   | Type     | Output (gettype) | is\_resource() | get\_resource\_type() |
| ---------- | -------- | ---------------- | -------------- | --------------------- |
| `$file`    | Resource | resource         | ✅ true         | stream                |
| `$db_conn` | Resource | resource         | ✅ true         | mysql, pgsql, etc.    |

---

## 🧼 Cleaning Up Resources

* Always close resources after use using appropriate functions like:

  * `fclose()` for files
  * `mysqli_close()` for MySQL connections
  * `curl_close()` for cURL

```php
<?php
$handle = fopen("demo.txt", "r");
// ...use the file
fclose($handle);  // Proper resource cleanup
?>
```

---

## 🔐 Why Use Resources?

* To interface with system-level operations (file system, database, etc.)
* To manage large external data efficiently
* PHP handles memory management of resources automatically

---

## ✅ Best Practices

| Practice                     | Why?                                         |
| ---------------------------- | -------------------------------------------- |
| Always check `is_resource()` | Ensure the resource was successfully created |
| Use `get_resource_type()`    | Helpful for debugging or validating type     |
| Always close resources       | Prevent memory leaks                         |

---

## 🧪 Extra Example: Database Resource

```php
<?php
$conn = mysqli_connect("localhost", "root", "", "testdb");

if (is_resource($conn)) {
    echo "Resource type: " . get_resource_type($conn);
} else {
    echo "Connection failed.";
}

mysqli_close($conn);
?>
```

> ⚠️ Note: In newer PHP versions, MySQLi returns an **object**, not a resource. Use `gettype()` or `var_dump()` to verify.

---

