
# Modifying Headers in PHP

HTTP headers must be sent **before** any output is sent to the browser. PHP provides the `header()` function to send custom HTTP headers like status codes or redirects.

---

## 🔒 Important Rules for Sending Headers

* ✅ `header()` **must be called before any HTML or whitespace** is sent to the browser.
* ❌ **Cannot appear after** any `echo`, `print`, or raw HTML content.
* ❌ **Avoid whitespace** outside PHP tags — even a blank line **before `<?php`** will break it!
* ✅ Whitespace **inside PHP tags** is allowed.
* ⚠️ Be cautious with `include` or `require` files — they might produce output unintentionally.

---

## 🧪 Example: `headers.php`

```php
<?php
// Uncomment one of the following headers to test different responses:

// header('HTTP/1.0 404 Not Found'); // Page not found
// header('HTTP/1.0 307 Temporary Redirect'); // Temporary redirect
// header('HTTP/1.0 308 Permanent Redirect'); // Permanent redirect
// header('HTTP/1.0 200 OK'); // Successful response
// header('HTTP/1.0 503 Service Unavailable'); // Server unavailable
?>
```

---

## ✅ Common HTTP Status Codes

| Code | Description               | When to Use                            |
| ---- | ------------------------- | -------------------------------------- |
| 200  | OK                        | Request succeeded                      |
| 301  | Moved Permanently         | Permanent redirect                     |
| 302  | Found (Moved Temporarily) | Temporary redirect (HTTP 1.0)          |
| 307  | Temporary Redirect        | HTTP 1.1-compliant temporary redirect  |
| 308  | Permanent Redirect        | HTTP 1.1-compliant permanent redirect  |
| 404  | Not Found                 | Resource does not exist                |
| 503  | Service Unavailable       | Server under maintenance or overloaded |

---

## 🔍 Testing Headers

You can inspect headers using browser DevTools (`Network` tab) or run:

```bash
curl -I http://yourdomain.com/headers.php
```

Look for the `HTTP/1.0` response line and other headers.

---

# Redirecting with Headers in PHP

The `Location:` header is used in PHP to redirect users to another page. Once a `Location` header is sent, no output should follow. Always call `exit` immediately afterward to stop script execution.

---

## 📄 Example: `redirect.php`

```php
<?php
// Define a smart redirection function
function redirect_to($new_location) {
    header("Location: $new_location");
    exit; // Stops execution after sending a redirect
}

// Simulate login logic using query parameter
$logged_in = $_GET['logged_in'] ?? '';

// Check login state and redirect accordingly
if ($logged_in === '1') {
    redirect_to("first_page.php"); // Redirect to secured page
} else {
    redirect_to("index.html"); // Redirect to login/home page
}
?>
```

---

## 🧠 How It Works

* The function `redirect_to()` takes a URL and sends a `Location:` header.
* `exit` ensures no further code runs after the header is sent.
* The script checks the query parameter `logged_in`:

  * If `logged_in == '1'` → redirect to `first_page.php`
  * Else → redirect to `index.html`

---

## 🔗 Usage Example

| URL Visited                         | Redirects To     |
| ----------------------------------- | ---------------- |
| `redirect.php?logged_in=1`          | `first_page.php` |
| `redirect.php?logged_in=0` or empty | `index.html`     |

---

## ⚠️ Important Notes

* ❗ Do **not** output **any HTML or whitespace** before calling `header('Location:')`.
* ✅ Always use `exit;` (or `die();`) **after** a redirect to prevent further execution.

---

