
# PHP Regular Expressions

Regular expressions (regex) are patterns used to match character combinations in strings. PHP provides powerful functions to work with regex, mainly through `preg_` functions.

---

## Core Functions

### `preg_match()`

Tests if a pattern matches a string.
**Returns:**

* `1` if a match is found
* `0` if no match is found
* `FALSE` on error

```php
preg_match($pattern, $string, $matches_array);
```

### `preg_match_all()`

Finds **all** matches of a pattern in a string and returns the total number found.

```php
preg_match_all($pattern, $string, $matches_array);
```

---

## Useful Regex Tools

* [regex101.com](https://regex101.com)
* [regexr.com](https://regexr.com)
* [php.live/regex](https://php.live/regex)

---

## Example Scripts

### 1. Basic Match with `preg_match()`

**File:** `regular_expressions.php`

```php
<?php
$str1 = "This course will immerse the student into an interactive environment where they will learn how to test and secure their own system as well as of organization with Ethical Hacking aspects, students also learn Windows and RHEL servers.";

$exp = preg_match("/RHEL/", $str1);
echo $exp . "<br />";
echo $exp ? "Match Found." : "Match Not Found.";
?>
```

* Matches the string **"RHEL"** exactly.
* Outputs `1` and **"Match Found."** if present.

---

### 2. Case-Insensitive Match

**File:** `regular_expression2.php`

```php
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Regular Expressions 2</title>
</head>
<body>
<?php
$str1 = "This course includes FTP and other protocols.";

$patt1 = "/ftp/i"; // Case-insensitive

$exp = preg_match($patt1, $str1);

echo $exp ? "Match Found." : "Match Not Found.";
?>
</body>
</html>
```

#### Explanation:

* The `i` modifier makes the search case-insensitive.
* Will match "FTP", "ftp", "Ftp", etc.

---

### 3. Find All Matches with `preg_match_all()`

**File:** `regular_expressions3.php`

```php
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Regular Expressions 3</title>
</head>
<body>
<?php
$str1 = "File Services and file sharing are important topics.";

$patt1 = "/File/i";

$exp = preg_match_all($patt1, $str1, $matches_array);
echo $exp . "<br />";

echo $exp ? "Match Found." : "Match Not Found.";
?>
<pre>
<?php print_r($matches_array); ?>
</pre>
</body>
</html>
```

#### Explanation:

* Finds all case-insensitive matches of the word **File**.
* Outputs the count and prints the array of all matched results.

---

### 4. Advanced Pattern Matching

**File:** `regular_expressions4.php`

```php
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Regular Expressions 4</title>
</head>
<body>
<?php
$str1 = "Explore File servers, FTP, Linux into Armour, and Ethical Hacking.";

$patt1 = "/File|Ftp|Linux|into|servers|Armour|Hacking/i";

$exp = preg_match_all($patt1, $str1, $matches_array);
echo $exp . "<br />";
echo $exp ? "Match Found." : "Match Not Found.";
?>
<pre>
<?php print_r($matches_array); ?>
</pre>
</body>
</html>
```

#### Explanation:

* Matches multiple words using the OR (`|`) operator.
* Case-insensitive.
* Outputs the total number and list of matches.

---

## Useful Regex Classes in Examples

| Pattern      | Description                                    |
| ------------ | ---------------------------------------------- |
| `/[a-z]/i`   | Matches any letter, case-insensitive           |
| `/\w/`       | Matches any word character (a-z, A-Z, 0-9, \_) |
| `/\d/`       | Matches digits (0-9)                           |
| `/\s/`       | Matches whitespace                             |
| `/[^a-z]/i`  | Matches any character **not** a-z              |
| `/[@#$%&*]/` | Matches any special character in set           |

---

## Regular Expression Quantifiers

| Quantifier | Description           | Example  | Matches             |
| ---------- | --------------------- | -------- | ------------------- |
| `*`        | Zero or more times    | `a*`     | "", "a", "aa"       |
| `+`        | One or more times     | `a+`     | "a", "aa", "aaa"    |
| `?`        | Zero or one time      | `a?`     | "", "a"             |
| `{x}`      | Exactly x times       | `a{3}`   | "aaa"               |
| `{x,y}`    | Between x and y times | `a{2,4}` | "aa", "aaa", "aaaa" |
| `{x,}`     | At least x times      | `a{2,}`  | "aa", "aaa"…        |

> ⚠️ `{,y}` is non-standard. Use `{0,y}` for "up to y times".

---

## Common Shorthand Character Classes

| Class | Matches            |
| ----- | ------------------ |
| `\d`  | Any digit (0–9)    |
| `\D`  | Any non-digit      |
| `\w`  | Word character     |
| `\W`  | Non-word character |
| `\s`  | Whitespace         |
| `\S`  | Non-whitespace     |

---

## Tips

* Use `/pattern/i` for case-insensitive matching.
* Always escape special characters like `.`, `*`, `/`, `?`, etc.
* Use capturing groups `()` to extract sub-patterns.
* Use anchors: `^` (start of string) and `$` (end of string).
* Use online tools to test regex patterns interactively:

  * [regex101](https://regex101.com)
  * [regexr](https://regexr.com)

---

